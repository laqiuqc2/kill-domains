# 本地编译说明

由于您在 Mac 系统上，而 PyInstaller **不支持跨平台编译**，无法直接在 Mac 上编译 Windows exe。

## 快速编译方案

### 方案一：GitHub Actions 自动编译（最简单）⭐

**步骤：**

1. **初始化 Git 仓库**（在终端执行）：
   ```bash
   cd /Users/Sam/git/kill
   git init
   git add .
   git commit -m "Initial commit"
   ```

2. **在 GitHub 上创建新仓库**
   - 访问 https://github.com/new
   - 创建新仓库（例如：`kill-domains`）
   - **不要**初始化 README、.gitignore 或 license

3. **推送代码到 GitHub**：
   ```bash
   git remote add origin https://github.com/你的用户名/kill-domains.git
   git branch -M main
   git push -u origin main
   ```

4. **等待自动编译**
   - 推送后，GitHub Actions 会自动开始编译
   - 访问：`https://github.com/你的用户名/kill-domains/actions`
   - 等待编译完成（约 2-5 分钟）

5. **下载编译好的 exe**
   - 在 Actions 页面，点击最新的 workflow run
   - 在页面底部找到 "Artifacts" 部分
   - 下载 `DomainKiller-exe` artifact
   - 解压后得到 `DomainKiller.exe`

### 方案二：Windows 虚拟机编译

如果您有 Windows 虚拟机（Parallels Desktop、VMware Fusion 等）：

1. **在虚拟机中安装 Python 3.11**
   - 从 https://www.python.org/downloads/ 下载
   - 安装时勾选 "Add Python to PATH"

2. **复制项目文件到虚拟机**
   - 使用共享文件夹或拖拽方式

3. **在虚拟机中执行编译**：
   ```powershell
   # 打开 PowerShell 或 CMD
   cd 项目目录
   
   # 安装依赖
   pip install -r requirements.txt
   pip install pyinstaller
   
   # 编译
   pyinstaller build.spec
   ```

4. **获取 exe 文件**
   - 编译完成后，exe 位于 `dist/DomainKiller.exe`
   - 复制到 Mac 或直接使用

### 方案三：使用远程 Windows 服务器

如果您有 Windows 服务器或远程桌面：

1. **上传项目文件到服务器**
   - 使用 scp、FTP 或其他方式

2. **在服务器上编译**：
   ```powershell
   pip install -r requirements.txt
   pip install pyinstaller
   pyinstaller build.spec
   ```

3. **下载编译好的 exe**

## 验证编译结果

编译成功后，您应该得到：
- `dist/DomainKiller.exe` - 可执行文件（约 20-50MB）

## 测试运行

在 Windows 上测试：

1. **右键点击** `DomainKiller.exe`
2. **选择** "以管理员身份运行"
3. **检查系统托盘**是否显示图标
4. **右键托盘图标**测试菜单功能

## 如果遇到问题

### GitHub Actions 编译失败

- 检查 `.github/workflows/build.yml` 文件是否存在
- 检查代码是否有语法错误
- 查看 Actions 页面的错误日志

### 虚拟机编译失败

- 确保 Python 版本 >= 3.7
- 确保所有依赖都已安装
- 检查是否有杀毒软件阻止

## 推荐方案

**强烈推荐使用 GitHub Actions**：
- ✅ 无需本地 Windows 环境
- ✅ 完全自动化
- ✅ 每次推送自动编译
- ✅ 编译结果可下载

只需几分钟设置，之后每次代码更新都会自动编译！

